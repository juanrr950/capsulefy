{% extends 'base.html' %}
{% block contenido %}
{% load static %}

<div class="container">
    <form action="" method="post" class="needs-validation" novalidate enctype="multipart/form-data">
    	{% if '/editfreecapsule/' in request.path %}
        	<h3 class="title">Editing the capsule</h3>
		{% else %}
        	<h3 class="title">Creating a free capsule</h3>
		{% endif %}
		<hr>
    	    {% csrf_token %}
			<div class="form-group">
			    <label for="id_title"><span class="red">*</span> Title {{ form.title.errors }}</label>
			    <input type="text" class="form-control" name="title" id="id_title" maxlength="250" value="{% if form.title.value != None %}{{form.title.value}}{% endif %}" required placeholder="Title">
			</div>
			<div class="form-group">
			    <label for="id_description"><span class="red">*</span> Description {{ form.description.errors }}</label>
			    <textarea class="form-control" id="id_description" name="description" rows="5" required placeholder="Description">{% if form.description.value != None %}{{form.description.value}}{% endif %}</textarea>
  			</div>
  			<div class="form-group">
			    <label for="id_release_date"><span class="red">*</span> Release date {{ form.release_date.errors }}</label>
			    <input type="text" class="form-control" id="id_release_date" name="release_date" maxlength="250" value="{% if form.release_date.value != None %}{{form.release_date.value | date:'Y-m-d H:i'}}{% endif %}" required placeholder="YYYY-MM-DD HH:MM">
			</div>
			<div class="form-group">
			    <label for="id_emails">Emails</label>
				{{ form.emails.errors }}
			    <input type="text" class="form-control" id="id_release_date" name="emails" value="{% if form.emails.value != None %}{{form.emails.value}}{% endif %}" maxlength="250">
			</div>
			<div class="form-check">
			  <input class="form-check-input" type="checkbox" id="id_twitter" value="{% if form.twitter.value != None %}{{form.twitter.value}}{% endif %}" name="twitter">
			  <label class="form-check-label" for="id_twitter">
			    Twitter
			  </label>
			</div>
			<div class="form-check">
			  <input class="form-check-input" type="checkbox" id="id_facebook" value="{% if form.facebook.value != None %}{{form.facebook.value}}{% endif %}" name="facebook">
			  <label class="form-check-label" for="id_facebook">
			    Facebook
			  </label>
			</div>
			<br>
			{% if not '/editfreecapsule/' in request.path %}


		<div class="form-group">
    	<label for="id_file">Files</label>
	    <input type="file" name="file" id="id_file" class="form-control-file" multiple>
  	</div>
		<hr>
			<div class="form-check">
			  <input class="form-check-input" type="checkbox" id="id_terms" required>
			  <label class="form-check-label" for="id_terms">
			    <span class="red">*</span> You are accepting Terms and Conditions
			  </label>
			</div>
			<hr>
			{% endif %}
			<p><span class="red">Fields with * are required</span></p>
			<button type="submit" value="submit" class="btn btn-primary">Submit</button>
			<button type="button" class="btn btn-secondary" onclick="window.location = '/'">Cancel</button>
    </form>
</div>
<!--{{ form.as_p}}-->
{% endblock %}
{% block styles %}
  <link rel="stylesheet" type="text/css" href="{% static 'css/styleForm.css' %}"/>
{% endblock %}